FROM alpine:latest
WORKDIR /app

# Instalar dependencias necesarias
RUN apk update && \
    apk add --no-cache g++ make cmake postgresql-dev curl

# Descargar e instalar libpqxx
RUN curl -L https://github.com/jtv/libpqxx/archive/7.6.0.tar.gz | tar xz && \
    cd libpqxx-7.6.0 && \
    cmake -DCMAKE_INSTALL_PREFIX=/usr . && \
    make && make install && \
    cd .. && rm -rf libpqxx-7.6.0

# Copiar el c贸digo fuente de la aplicaci贸n
COPY src/main.cpp /app

# Compilar la aplicaci贸n
RUN g++ -o application main.cpp -lpqxx -lpq

# Ejecutar la aplicaci贸n
CMD ["./application"]